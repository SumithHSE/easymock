---
layout: default
title: Getting started
comments: true
---

<div class="container">
  <h1>Getting Started</h1>
  <p>Add EasyMock dependency to your POM file.</p>

{% highlight xml %}
<dependency>
  <groupId>org.easymock</groupId>
  <artifactId>easymock</artifactId>
  <version>{{site.latest_version}}</version>
  <scope>test</scope>
</dependency>
{% endhighlight %}

  <p>Then, you need a class to test and a collaborator used by this class. The collaborator can be a class or and interface. IT doesn't matter. Please don't create an interface just for the pleasure of mocking it.</p>
{% highlight java %}
public interface Collaborator {
    void documentAdded(String title);
    void documentChanged(String title);
    void documentRemoved(String title);
    byte voteForRemoval(String title);
    byte[] voteForRemovals(String[] title);
}

public class ClassUnderTest {

    private Collaborator listener;
    // ...
    public void setListener(Collaborator listener) {
        this.listener = listener;
    }
    public void addDocument(String title, byte[] document) { 
        // ... 
    }
    public boolean removeDocument(String title) {
        // ... 
    }
    public boolean removeDocuments(String[] titles) {
        // ... 
    }
}
{% endhighlight %}

{% highlight java %}
import static org.easymock.EasyMock.*;
import org.junit.*;

public class ExampleTest {

  private ClassUnderTest classUnderTest;
  private Collaborator mock;

  @Before
  public void setUp() {
      mock = createMock(Collaborator.class);
      classUnderTest = new ClassUnderTest();
      classUnderTest.setCollaborator(mock);
  }
  
  @Test
  public void addDocument() {
      mock.documentAdded("New Document");
      replay(mock);
      classUnderTest.addDocument("New Document", new byte[0]);
      verify(mock);
  }  
}
{% endhighlight %}

</div>
